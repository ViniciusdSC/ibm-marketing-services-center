{"version":3,"sources":["../src/index.js"],"names":["app","use","express","json","req","res","next","header","process","env","CORS_LIST","port","PORT","post","action","body","TicketAction","send","response","listen","console","log"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,MAAMA,MAAM,wBAAZ;AACAA,IAAIC,GAAJ,CAAQC,kBAAQC,IAAR,EAAR;AACAH,IAAIC,GAAJ,CAAQ,UAASG,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/BD,MAAIE,MAAJ,CAAW,6BAAX,EAA0CC,QAAQC,GAAR,CAAYC,SAAtD;AACAL,MAAIE,MAAJ,CAAW,kCAAX,EAA+C,MAA/C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,2BAA3C;AACAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,+DAA3C;AACAD;AACD,CAND;AAOA,MAAMK,OAAOH,QAAQC,GAAR,CAAYG,IAAZ,IAAoB,IAAjC;;AAEAZ,IAAIa,IAAJ,CAAS,UAAT,EAAqB,OAAOT,GAAP,EAAYC,GAAZ,KAAoB;AACvC,QAAMS,SAASV,IAAIW,IAAJ,GAAWX,IAAIW,IAAJ,CAASD,MAApB,GAA6B,IAA5C;;AAEA,MAAI,CAACA,MAAD,IAAW,CAACE,uBAAaF,MAAb,CAAhB,EAAsC;AACpC,WAAOT,IAAIY,IAAJ,CAAS;AACdC,gBAAU;AADI,KAAT,CAAP;AAGD;;AAED,SAAOb,IAAIY,IAAJ,CAAS;AACdC,cAAU,MAAMF,uBAAaF,MAAb,EAAqBV,GAArB;AADF,GAAT,CAAP;AAGD,CAZD;;AAcAJ,IAAImB,MAAJ,CAAWR,IAAX,EAAiB,YAAW;AAC1BS,UAAQC,GAAR,CAAa,kBAAiBV,IAAK,EAAnC;AACD,CAFD","file":"index.js","sourcesContent":["import express from 'express';\nimport TicketAction from '~/actions/TicketAction';\n\nconst app = express();\napp.use(express.json());\napp.use(function(req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", process.env.CORS_LIST);\n  res.header(\"Access-Control-Allow-Credentials\", \"true\");\n  res.header(\"Access-Control-Allow-Methods\", \"GET,HEAD,OPTIONS,POST,PUT\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept, Authorization\");\n  next()\n})\nconst port = process.env.PORT || 3000;\n\napp.post('/actions', async (req, res) => {\n  const action = req.body ? req.body.action : null;\n\n  if (!action || !TicketAction[action]) {\n    return res.send({\n      response: 'Internal server error'\n    });\n  }\n\n  return res.send({\n    response: await TicketAction[action](req)\n  });\n});\n\napp.listen(port, function() {\n  console.log(`listening on *:${port}`);\n});\n"]}